doctype html
html
  head
    meta(charset="utuf8")
    title Stock Manager ã€‡ #{title}
    meta(name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no")
    link(rel="stylesheet" href="/application.css")
    link(rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap-theme.min.css")
    link(rel="stylesheet" href="/components/font-awesome/css/font-awesome.css")
    script(src="/components/oauth2rizer/oauth2rizer.js")
    script(src="/components/jquery/dist/jquery.min.js")
    script(src="/components/bootstrap/dist/js/bootstrap.min.js")
    script(src="/components/mustache.js/mustache.min.js")
    script(src="/application.js")

  body
    nav.navbar.navbar-default
      section.container
        header.navbar-header
          button.navbar-toggle.collapsed(type="button" data-toggle="collapse" data-target='#navbar')
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.navbar-brand(href="/") L&S Stock
        #navbar.collapse.navbar-collapse
          ul.nav.navbar-nav.navbar-right
            // TODO: set active class on li
            li.dropdown
              a.dropdown-toggle(href="#" data-toggle="dropdown")
                | Orders
                span.caret
              ul.dropdown-menu
                li: a(href="#orders") All
                li: a(href="#orders") Open
                li: a(href="#orders") Closed
            li: a(href="#inventory") Inventory
    main
      .container.alerts
        .fatal.alert.alert-danger(hidden)
          p
            span.message
        .offline.alert.alert-warning(hidden)
          p
            span.message Currently offline
            span.glyphicon.glyphicon-warning-sign.pull-right
        .synchronizing
          p.alert.working.alert-info
            span.working.message Synchronizing...
            span.working.spinner.glyphicon.glyphicon-refresh.glyphicon-spin.pull-right
          p.alert.error.alert-danger
            span.error.glyphicon.glyphicon-warning-sign.pull-right
            span.error.message
              | Synchronization failed!
              br
              small.reason
          p.alert.success.alert-success
            span.success.message All data is up to date.
            span.success.glyphicon.glyphicon-cloud.pull-right
      section#orders.container
        .page-header
          h1 Orders
        form.form.filter
          .input-group.input-group-lg
            span.input-group-addon.glyphicon.glyphicon-search
            input.form-control(type="search" name="filter" placeholder="Find a customer")
            .input-group-btn
              button.btn.btn-default(type="button" name="filter") Filter
        .panel-group.orders(data-template='#orders script.orders')
        script.orders(type='text/html')
          include ./templates/orders
      section#inventory.container
        .page-header
          h1 Inventory
        table.table.table-striped.table-condensed
          thead
            tr
              th.product   Name
              th.total     Total
              th.available Available
              th.actions
          tbody.products(data-template='#inventory script.product')
        script.product(type='text/html')
          include ./templates/product

      section#choose-spreadsheet.container
        .page-header
          h1 Choose your spreadsheet
        .fetching
          p.jumbotron.
            Downloading a list of your spreadsheets from your Google Drive...
        .error
          p.jumbotron.danger.
            Uh oh! Failed to get your spreadsheets!
            span.reason
        .waiting
          form.form
            .form-group
              label.control-label(for='spreadsheet-select') Choose your spreadsheet
              span.spinner.glyphicon.glyphicon-refresh.glyphicon-spin.pull-right
              select.form-control.input-lg#spreadsheet-select(disabled name='spreadsheet' data-template='#choose-spreadsheet script')
              .help-block.help.
                  Once you have your spreadsheet linked, the data will be used
                  here
            button.btn.btn-lg.btn-block.btn-default(type='submit' disabled) Use this spreadsheet
        script(type="text/html")
          include ./templates/choose-spreadsheet
